import{E as he,g as w,y as v,v as s,F as B,d as D,o as Q,c as O,w as k,a as c,G as P,H,f as j,I as K,J as F,i as M,K as G,L as ke,b as C,M as Te,N as te,O as _e,k as ae,T as xe,P as qe,R as ye,S as Se,U as J,V as pe,h as N,W as X,X as we,Y as Ie,Z as R,$ as Le,a0 as Ce,Q as U,a1 as Be,a2 as ne,a3 as Qe,a4 as le,a5 as $e,a6 as Ee,a7 as Ve,u as Ae,a8 as Z,a9 as ee,e as oe}from"./index-ff7293ef.js";import{Q as Ne}from"./QPage-c747032d.js";import{Q as Oe}from"./QPageContainer-9e5c38c3.js";import{a as V,u as Pe}from"./session-9e8492aa.js";const He=he("tasks",{state:()=>({_tasks:[]}),getters:{tasks:e=>e._tasks},actions:{getTasks(e){V.get("/items",{params:{search:e,limit:1e3}}).then(l=>{this._tasks=l.data.items})},async addTask(e){return new Promise((l,o)=>{V.post("/items",e).then(t=>{this._tasks.push(t.data),l(t.data)}).catch(t=>{o(t)})})},async deleteTask(e){return new Promise((l,o)=>{V.delete(`/items/${e}`).then(t=>{this.getTasks(""),l(null)}).catch(t=>{o(t)})})},async updateTask(e){return new Promise((l,o)=>{V.put(`/items/${e.uuid}`,e).then(t=>{this.getTasks(""),l(null)}).catch(t=>{o(t)})})}}}),je=w({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:l}){const o=v(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>s("div",{class:o.value},B(l.default))}}),Re=w({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:l}){const o=v(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>s("div",{class:o.value,role:"toolbar"},B(l.default))}}),Ue=D({__name:"TopbarComponent",props:["name"],emits:["closeSession"],setup(e,{emit:l}){return(o,t)=>(Q(),O(Re,{class:"text-white bg-primary"},{default:k(()=>[c(je,{class:"text-center"},{default:k(()=>[P(" Hi "+H(e.name)+"! ",1)]),_:1}),c(j,{flat:"",round:"",dense:"",icon:"logout",onClick:t[0]||(t[0]=m=>l("closeSession"))})]),_:1}))}}),ie=w({name:"QItem",props:{...K,...F,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:l,emit:o}){const{proxy:{$q:t}}=M(),m=G(e,t),{hasLink:u,linkAttrs:r,linkClass:d,linkTag:i,navigateOnClick:x}=ke(),g=C(null),b=C(null),T=v(()=>e.clickable===!0||u.value===!0||e.tag==="label"),h=v(()=>e.disable!==!0&&T.value===!0),p=v(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(m.value===!0?" q-item--dark":"")+(u.value===!0&&e.active===null?d.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(h.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),a=v(()=>e.insetLevel===void 0?null:{["padding"+(t.lang.rtl===!0?"Right":"Left")]:16+e.insetLevel*56+"px"});function _(f){h.value===!0&&(b.value!==null&&(f.qKeyEvent!==!0&&document.activeElement===g.value?b.value.focus():document.activeElement===b.value&&g.value.focus()),x(f))}function q(f){if(h.value===!0&&Te(f,13)===!0){te(f),f.qKeyEvent=!0;const $=new MouseEvent("click",f);$.qKeyEvent=!0,g.value.dispatchEvent($)}o("keyup",f)}function y(){const f=_e(l.default,[]);return h.value===!0&&f.unshift(s("div",{class:"q-focus-helper",tabindex:-1,ref:b})),f}return()=>{const f={ref:g,class:p.value,style:a.value,role:"listitem",onClick:_,onKeyup:q};return h.value===!0?(f.tabindex=e.tabindex||"0",Object.assign(f,r.value)):T.value===!0&&(f["aria-disabled"]="true"),s(i.value,f,y())}}}),L=w({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:l}){const o=v(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>s("div",{class:o.value},B(l.default))}}),A=w({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:l}){const o=v(()=>parseInt(e.lines,10)),t=v(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(o.value===1?" ellipsis":"")),m=v(()=>e.lines!==void 0&&o.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":o.value}:null);return()=>s("div",{style:m.value,class:t.value},B(l.default))}}),De=w({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:l,emit:o}){let t=!1,m,u,r=null,d=null,i,x;function g(){m&&m(),m=null,t=!1,r!==null&&(clearTimeout(r),r=null),d!==null&&(clearTimeout(d),d=null),u!==void 0&&u.removeEventListener("transitionend",i),i=null}function b(a,_,q){_!==void 0&&(a.style.height=`${_}px`),a.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,t=!0,m=q}function T(a,_){a.style.overflowY=null,a.style.height=null,a.style.transition=null,g(),_!==x&&o(_)}function h(a,_){let q=0;u=a,t===!0?(g(),q=a.offsetHeight===a.scrollHeight?0:void 0):(x="hide",a.style.overflowY="hidden"),b(a,q,_),r=setTimeout(()=>{r=null,a.style.height=`${a.scrollHeight}px`,i=y=>{d=null,(Object(y)!==y||y.target===a)&&T(a,"show")},a.addEventListener("transitionend",i),d=setTimeout(i,e.duration*1.1)},100)}function p(a,_){let q;u=a,t===!0?g():(x="show",a.style.overflowY="hidden",q=a.scrollHeight),b(a,q,_),r=setTimeout(()=>{r=null,a.style.height=0,i=y=>{d=null,(Object(y)!==y||y.target===a)&&T(a,"hide")},a.addEventListener("transitionend",i),d=setTimeout(i,e.duration*1.1)},100)}return ae(()=>{t===!0&&g()}),()=>s(xe,{css:!1,appear:e.appear,onEnter:h,onLeave:p},l.default)}}),I=qe({}),Ke=Object.keys(F),Fe=w({name:"QExpansionItem",props:{...F,...ye,...K,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Se,"click","afterShow","afterHide"],setup(e,{slots:l,emit:o}){const{proxy:{$q:t}}=M(),m=G(e,t),u=C(e.modelValue!==null?e.modelValue:e.defaultOpened),r=C(null),d=J(),{show:i,hide:x,toggle:g}=pe({showing:u});let b,T;const h=v(()=>`q-expansion-item q-item-type q-expansion-item--${u.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),p=v(()=>e.contentInsetLevel===void 0?null:{["padding"+(t.lang.rtl===!0?"Right":"Left")]:e.contentInsetLevel*56+"px"}),a=v(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),_=v(()=>{const n={};return Ke.forEach(S=>{n[S]=e[S]}),n}),q=v(()=>a.value===!0||e.expandIconToggle!==!0),y=v(()=>e.expandedIcon!==void 0&&u.value===!0?e.expandedIcon:e.expandIcon||t.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),f=v(()=>e.disable!==!0&&(a.value===!0||e.expandIconToggle===!0)),$=v(()=>({expanded:u.value===!0,detailsId:e.targetUid,toggle:g,show:i,hide:x})),Y=v(()=>{const n=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:t.lang.label[u.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":u.value===!0?"true":"false","aria-controls":d,"aria-label":n}});N(()=>e.group,n=>{T!==void 0&&T(),n!==void 0&&z()});function se(n){a.value!==!0&&g(n),o("click",n)}function ue(n){n.keyCode===13&&W(n,!0)}function W(n,S){S!==!0&&r.value!==null&&r.value.focus(),g(n),te(n)}function re(){o("afterShow")}function de(){o("afterHide")}function z(){b===void 0&&(b=J()),u.value===!0&&(I[e.group]=b);const n=N(u,E=>{E===!0?I[e.group]=b:I[e.group]===b&&delete I[e.group]}),S=N(()=>I[e.group],(E,be)=>{be===b&&E!==void 0&&E!==b&&x()});T=()=>{n(),S(),I[e.group]===b&&delete I[e.group],T=void 0}}function ce(){const n={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},S=[s(R,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&u.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:y.value})];return f.value===!0&&(Object.assign(n,{tabindex:0,...Y.value,onClick:W,onKeyup:ue}),S.unshift(s("div",{ref:r,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),s(L,n,()=>S)}function me(){let n;return l.header!==void 0?n=[].concat(l.header($.value)):(n=[s(L,()=>[s(A,{lines:e.labelLines},()=>e.label||""),e.caption?s(A,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&n[e.switchToggleSide===!0?"push":"unshift"](s(L,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>s(R,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&n[e.switchToggleSide===!0?"unshift":"push"](ce()),n}function ve(){const n={ref:"item",style:e.headerStyle,class:e.headerClass,dark:m.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return q.value===!0&&(n.clickable=!0,n.onClick=se,Object.assign(n,a.value===!0?_.value:Y.value)),s(ie,n,me)}function ge(){return we(s("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:p.value,id:d},B(l.default)),[[Ie,u.value]])}function fe(){const n=[ve(),s(De,{duration:e.duration,onShow:re,onHide:de},ge)];return e.expandSeparator===!0&&n.push(s(X,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:m.value}),s(X,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:m.value})),n}return e.group!==void 0&&z(),ae(()=>{T!==void 0&&T()}),()=>s("div",{class:h.value},[s("div",{class:"q-expansion-item__container relative-position"},fe())])}}),Me=w({name:"QList",props:{...K,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:l}){const o=M(),t=G(e,o.proxy.$q),m=v(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(t.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>s(e.tag,{class:m.value},B(l.default))}}),Ge=D({__name:"TaskListComponent",props:{tasks:{type:Array,required:!0}},emits:["deleteTask","addTask","updateTask"],setup(e,{emit:l}){const o=r=>{l("deleteTask",r)},t=C({}),m=()=>{l("addTask",t.value),t.value={}},u=r=>{l("updateTask",r)};return(r,d)=>(Q(),O(Me,{bordered:"",class:"rounded-borders",padding:""},{default:k(()=>[c(Fe,{"expand-separator":"",icon:"add",label:"New task"},{default:k(()=>[c(Le,{class:"q-mt-md"},{default:k(()=>[c(Ce,null,{default:k(()=>[c(U,{modelValue:t.value.title,"onUpdate:modelValue":d[0]||(d[0]=i=>t.value.title=i),label:"Title"},null,8,["modelValue"]),c(U,{modelValue:t.value.description,"onUpdate:modelValue":d[1]||(d[1]=i=>t.value.description=i),label:"Description"},null,8,["modelValue"])]),_:1}),c(Be,null,{default:k(()=>[c(j,{label:"Add Task",onClick:m,icon:"add",class:"q-mx-auto",color:"primary"})]),_:1})]),_:1})]),_:1}),(Q(!0),ne(le,null,Qe(e.tasks,(i,x)=>(Q(),O(ie,{key:x},{default:k(()=>[c(L,{side:""},{default:k(()=>[c($e,{modelValue:i.done,"onUpdate:modelValue":[g=>i.done=g,g=>u(i)],color:"positive"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),c(L,null,{default:k(()=>[c(A,null,{default:k(()=>[P(H(i.title),1)]),_:2},1024),c(A,{caption:""},{default:k(()=>[P(H(i.description),1)]),_:2},1024)]),_:2},1024),c(L,{side:""},{default:k(()=>[c(j,{icon:"delete",color:"red",onClick:g=>o(i)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}))}});function Ye(){return Ee(Ve)}const We={class:"q-pa-md q-gutter-md"},ze=oe("h1",{class:"text-h6"},"To-Do List",-1),tt=D({__name:"HomePage",setup(e){const l=Ae(),o=Pe(),t=He(),{name:m}=Z(o),{tasks:u}=Z(t),r=C(""),d=Ye();t.getTasks("");const i=()=>{t.getTasks(r.value)},x=h=>{t.addTask(h).then(()=>{d.notify("New task created!")})},g=h=>{t.deleteTask(h.uuid).then(()=>{d.notify(`Task "${h.title}" is deleted`)})},b=h=>{t.updateTask(h).then(()=>{d.notify(`Task "${h.title}" is updated`)})},T=()=>{o.exit(),d.notify(`Bye ${m.value}!`),l.push("/start")};return(h,p)=>(Q(),ne(le,null,[c(Ue,{name:ee(m),onCloseSession:T},null,8,["name"]),c(Oe,null,{default:k(()=>[c(Ne,{class:"q-py-xl bg"},{default:k(()=>[oe("div",We,[ze,c(U,{rounded:"",outlined:"",modelValue:r.value,"onUpdate:modelValue":[p[0]||(p[0]=a=>r.value=a),i]},{append:k(()=>[c(R,{name:"search"})]),_:1},8,["modelValue"]),c(Ge,{tasks:ee(u),onDeleteTask:g,onAddTask:x,onUpdateTask:b},null,8,["tasks"])])]),_:1})]),_:1})],64))}});export{tt as default};
